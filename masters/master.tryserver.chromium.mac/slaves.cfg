# -*- python -*-
# ex: set syntax=python:
# Copyright 2014 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

# See master.experimental/slaves.cfg for documentation.

def mac():
  optional_slaves = ['vm%d-m4' % i
                      for i in [723, 804, 1025, 1026]]
  optional_builders = [
      'mac_chromium_archive_rel_ng',
      'mac_chromium_asan_rel_ng',
      'mac_chromium_gn_upload',
      'mac_nacl_sdk',
      'mac_nacl_sdk_build',
      'mac_upload_clang',
      'mac-views-rel',
  ]

  out = []
  out.extend(
    {
      'master': 'TryServerChromiumMac',
      'builder': optional_builders,
      'hostname': slave,
      'os': 'mac',
      'version': '10.12',
      'bits': '64',
      'pool': 'mac_optional',
    } for slave in optional_slaves
  )

  return out


def ios():
  slave_map = {
    'ios-simulator-cronet': [
      'vm255-m4',
      'vm667-m4',
    ],
  }

  slaves = []

  for builder in sorted(slave_map):
    slaves.extend([{
      'master': 'TryServerChromiumMac',
      'builder': builder,
      'hostname': slave,
      'os': 'mac',
      'version': '10.11',
    } for slave in slave_map[builder]])

  return slaves


slaves = mac() + ios()
