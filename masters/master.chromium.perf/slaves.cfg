# Copyright 2015 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

# See master.experimental/slaves.cfg for documentation.


slaves = []


def _AddSlave(name, os, version, hostname, bits):
  slaves.append({
      'bits': str(bits),
      'builder': name,
      'hostname': hostname,
      'master': 'ChromiumPerf',
      'os': os,
      'version': version,
  })


def _AddBuildSlaves(name, os, version, hostnames):
  for hostname in hostnames:
    _AddSlave(name, os, version, hostname, 64)


def _AddTestSlaves(name, os, version, hostnames, bits=64):
  if len(hostnames) == 1:
    _AddSlave(name, os, version, hostnames[0], bits)
  else:
    for index, hostname in enumerate(hostnames):
      indexed_name = '%s (%d)' % (name, index + 1)
      _AddSlave(indexed_name, os, version, hostname, bits)


_AddBuildSlaves(
    'Android Builder', 'linux', 'trusty',
    ['slave%d-c1' % x for x in [53, 54, 78, 79, 80, 81]])
_AddBuildSlaves(
    'Android Compile', 'linux', 'trusty', ['slave1-c1'] + (
    ['slave%d-m1' % x for x in range(101, 108)]))
_AddBuildSlaves(
    'Android arm64 Builder', 'linux', 'trusty',
    ['slave%d-c1' % x for x in [7, 55, 56, 82, 83, 84]])
_AddBuildSlaves(
    'Win Builder', 'win', 'win7',
    ['build%d-m1' % x for x in
      [7, 13, 14, 20, 24, 34, 58, 59, 63, 65, 66,
       71, 72, 74, 84, 87, 111, 112, 113, 114, 118, 121]])
_AddBuildSlaves(
    'Win x64 Builder', 'win', 'win7',
    ['build%d-m1' % x for x in [131, 137, 170, 171] + range(190, 208)])
_AddBuildSlaves(
    'Mac Builder', 'mac', '10.9',
    ['vm%d-m1' % x for x in [39] + range(157, 176)])
_AddBuildSlaves(
    'Linux Builder', 'linux', 'trusty',
    ['slave%d-c1' % x for x in range(85, 101)])

_AddTestSlaves(
    'Android Galaxy S5 Perf', 'linux', 'trusty',
    ['build21-b1', 'build22-b1', 'build23-b1'])
_AddTestSlaves(
    'Android Nexus5 Perf', 'linux', 'trusty',
    ['build13-b1', 'build14-b1', 'build48-b1'])
_AddTestSlaves(
    'Android Nexus5X Perf', 'linux', 'trusty',
    ['build55-b1', 'build56-b1', 'build57-b1'])
_AddTestSlaves(
    'Android Nexus6 Perf', 'linux', 'trusty',
    ['build15-b1', 'build16-b1', 'build45-b1'])
_AddTestSlaves(
    'Android Nexus7v2 Perf', 'linux', 'trusty',
    ['build9-b1', 'build10-b1', 'build49-b1'])
_AddTestSlaves(
    'Android Nexus9 Perf', 'linux', 'trusty',
    ['build11-b1', 'build12-b1', 'build46-b1'])
_AddTestSlaves(
    'Android One Perf', 'linux', 'trusty',
    ['build17-b1', 'build18-b1', 'build47-b1'])
_AddTestSlaves(
    'Android Nexus5X WebView Perf', 'linux', 'trusty',
    ['build58-b1', 'build76-b1', 'build77-b1'])
_AddTestSlaves(
    'Android Nexus6 WebView Perf', 'linux', 'trusty',
    ['build112-b1', 'build113-b1', 'build114-b1'])


_AddTestSlaves(
    'Win Zenbook Perf', 'win', 'win10',
    ['build30-b1', 'build31-b1', 'build32-b1', 'build33-b1', 'build34-b1'])
_AddTestSlaves(
    'Win 10 High-DPI Perf', 'win', 'win10',
    ['build117-b1', 'build118-b1', 'build119-b1', 'build120-b1', 'build121-b1'])
_AddTestSlaves(
    'Win 10 Perf', 'win', 'win10',
    ['build132-m1', 'build133-m1', 'build134-m1', 'build135-m1', 'build136-m1'])
_AddTestSlaves(
    'Win 8 Perf', 'win', 'win8',
    ['build143-m1', 'build144-m1', 'build145-m1', 'build146-m1', 'build147-m1'])
_AddTestSlaves(
    'Win 7 Perf', 'win', 'win7',
    ['build185-m1', 'build186-m1', 'build187-m1', 'build188-m1', 'build189-m1'])
_AddTestSlaves(
    'Win 7 x64 Perf', 'win', 'win7',
    ['build138-m1', 'build139-m1', 'build140-m1', 'build141-m1', 'build142-m1'])
_AddTestSlaves(
    'Win 7 ATI GPU Perf', 'win', 'win7',
    ['build101-m1', 'build102-m1', 'build103-m1', 'build104-m1', 'build105-m1'])
_AddTestSlaves(
    'Win 7 Intel GPU Perf', 'win', 'win7',
    ['build164-m1', 'build165-m1', 'build166-m1', 'build167-m1', 'build168-m1'])
_AddTestSlaves(
    'Win 7 Nvidia GPU Perf', 'win', 'win7',
    ['build92-m1', 'build93-m1', 'build94-m1', 'build95-m1', 'build96-m1'])


_AddTestSlaves(
    'Mac 10.11 Perf', 'mac', '10.11',
    ['build102-b1', 'build103-b1', 'build104-b1', 'build105-b1', 'build106-b1'])
_AddTestSlaves('Mac 10.10 Perf', 'mac', '10.10', ['build209-m1'])
_AddTestSlaves(
    'Mac Retina Perf', 'mac', '10.9',
    ['build4-b1', 'build5-b1', 'build6-b1', 'build7-b1', 'build8-b1'])
_AddTestSlaves(
    'Mac HDD Perf', 'mac', '10.10',
    ['build24-b1', 'build25-b1', 'build26-b1', 'build27-b1', 'build28-b1'])
_AddTestSlaves('Mac Pro 10.11 Perf', 'mac', '10.11', ['vm67-m1'])
_AddTestSlaves('Mac Air 10.11 Perf', 'mac', '10.11', ['vm68-m1'])



_AddTestSlaves(
    'Linux Perf', 'linux', 'precise',
    ['build148-m1', 'build149-m1', 'build150-m1', 'build151-m1', 'build152-m1'])
