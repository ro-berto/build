[
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::url]/resources/pycurl.py",
      "--url",
      "https://chromium.googlesource.com/chromium/src/+show/master?format=JSON",
      "--status-json",
      "/path/to/tmp/json",
      "--outfile",
      "/path/to/tmp/json",
      "--strip-prefix",
      "\")]}'\\n\""
    ],
    "name": "Get hash of HEAD commit on master"
  },
  {
    "cmd": [
      "prpc",
      "call",
      "-format=json",
      "luci-scheduler.appspot.com",
      "scheduler.Scheduler.EmitTriggers"
    ],
    "infra_step": true,
    "name": "luci-scheduler.EmitTriggers",
    "stdin": "{\"batches\": [{\"jobs\": [{\"job\": \"codesearch-gen-chromium-android\", \"project\": \"infra\"}, {\"job\": \"codesearch-gen-chromium-chromiumos\", \"project\": \"infra\"}, {\"job\": \"codesearch-gen-chromium-fuchsia\", \"project\": \"infra\"}, {\"job\": \"codesearch-gen-chromium-linux\", \"project\": \"infra\"}, {\"job\": \"codesearch-gen-chromium-win\", \"project\": \"infra\"}], \"trigger\": {\"buildbucket\": {\"properties\": {\"root_solution_revision\": \"deadbeef\", \"root_solution_revision_timestamp\": 1531887759.0}, \"tags\": [\"user_agent:recipe\"]}, \"id\": \"6a0a73b0-070b-492b-9135-9f26a2a00001\", \"title\": \"/0\"}}], \"timestamp\": 1337000001500000}",
    "stdout": "/path/to/tmp/json",
    "~followup_annotations": [
      "@@@STEP_TEXT@input {<br/>    \"batches\": [<br/>        {<br/>            \"jobs\": [<br/>                {<br/>                    \"job\": \"codesearch-gen-chromium-android\", <br/>                    \"project\": \"infra\"<br/>                }, <br/>                {<br/>                    \"job\": \"codesearch-gen-chromium-chromiumos\", <br/>                    \"project\": \"infra\"<br/>                }, <br/>                {<br/>                    \"job\": \"codesearch-gen-chromium-fuchsia\", <br/>                    \"project\": \"infra\"<br/>                }, <br/>                {<br/>                    \"job\": \"codesearch-gen-chromium-linux\", <br/>                    \"project\": \"infra\"<br/>                }, <br/>                {<br/>                    \"job\": \"codesearch-gen-chromium-win\", <br/>                    \"project\": \"infra\"<br/>                }<br/>            ], <br/>            \"trigger\": {<br/>                \"buildbucket\": {<br/>                    \"properties\": {<br/>                        \"root_solution_revision\": \"deadbeef\", <br/>                        \"root_solution_revision_timestamp\": 1531887759.0<br/>                    }, <br/>                    \"tags\": [<br/>                        \"user_agent:recipe\"<br/>                    ]<br/>                }, <br/>                \"id\": \"6a0a73b0-070b-492b-9135-9f26a2a00001\", <br/>                \"title\": \"/0\"<br/>            }<br/>        }<br/>    ], <br/>    \"timestamp\": 1337000001500000<br/>}@@@"
    ]
  },
  {
    "jsonResult": null,
    "name": "$result"
  }
]