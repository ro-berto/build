{
  "comment": ["This is a configuration file for gatekeeper_ng.py",
              "Look in gatekeeper_ng_config.py for documentation on ",
              "this files's format."],

  "masters": {
    "https://build.chromium.org/p/chrome": [
      {
        "sheriff_classes": ["sheriff"],
        "categories": [
          "experimental_tests"
        ],
        "builders": {
          "*": {
            "closing_optional": [ "non-existent-step" ]
          }
        }
      }
    ],
    "https://build.chromium.org/p/chromium": [
      {
        "categories": [
          "webrtc_tree_closer",
          "experimental_tests"
        ],
        "excluded_builders": [
          "android-official",
          "fuchsia-official",
          "linux-official",
          "win-archive-dbg",
          "win32-archive-dbg"
        ],

        "builders": {
          "linux-archive-rel": {
            "tree_notify": [
              "thomasanderson@chromium.org"
            ]
          },
          "win32-archive-rel": {
            "categories": [
              "chromium_windows"
            ]
          },
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/chromium.android": [
      {
        "categories": [
          "chromium_android",
          "experimental_tests"
        ],
        "builders": {
          "Android ASAN (dbg)": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "Android arm Builder (dbg)": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "Android arm64 Builder (dbg)": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "Cast Android (dbg)": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "Marshmallow Phone Tester (rel)": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "android-lollipop-arm-rel": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "android-marshmallow-arm64-rel": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "android-pie-arm64-rel": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "Deterministic Android (dbg)": {
            "categories": [
              "chromium_tree_closer",
              "experimental_tests"
            ],
            "tree_notify": [
              "agrieve@chromium.org"
            ]
          },
          "Deterministic Android": {
            "categories": [
              "chromium_tree_closer",
              "experimental_tests"
            ],
            "tree_notify": [
              "agrieve@chromium.org"
            ]
          },
          "*": {}
        },
        "excluded_builders": [
          "android-incremental-dbg",
          "android-marshmallow-x86-rel",
          "android-nougat-arm64-rel",
          "Oreo Phone Tester"
        ]
      }
    ],
    "https://build.chromium.org/p/chromium.android.fyi": [
      {
        "builders": {
          "Memory Infra Tester": {
            "tree_notify": [
              "chrome-memory-sheriffs+bots@google.com"
            ],
            "forgiving_optional": [ "*" ]
          }
        }
      }
    ],
    "https://build.chromium.org/p/chromium.chromiumos": [
      {
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],
        "builders": {
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/chromium.gpu": [
      {
        "tree_notify": ["chrome-gpu-build-failures@google.com"],
        "sheriff_classes": ["sheriff", "sheriff_gpu"],
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],
        "builders": {
          "*": {}
        },
        "excluded_builders" : [
          "GPU Linux Builder (dbg)",
          "GPU Mac Builder (dbg)",
          "GPU Win x64 Builder (dbg)",
          "Linux Debug (NVIDIA)",
          "Mac Debug (Intel)"
        ]
      }
    ],
    "https://build.chromium.org/p/chromium.linux": [
      {
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],
        "builders": {
          "*": {}
        },
        "excluded_builders" : [
          "Leak Detection Linux"
        ],
        "tree_notify": [
          "thomasanderson@chromium.org"
        ]
      },
      {
        "builders": {
          "fuchsia-arm64-cast": {
            "forgiving_optional": ["*"]
          },
          "fuchsia-x64-cast": {
            "forgiving_optional": ["*"]
          }
        }
      },
      {
        "builders": {
          "Deterministic Linux": {
            "categories": [
              "experimental_tests"
            ],
            "tree_notify": [
              "shinyak@chromium.org",
              "tikuta@chromium.org",
              "ukai@chromium.org",
              "yyanagisawa@chromium.org"
            ],
            "forgiving_optional": ["*"]
          },
          "linux-ozone-rel": {
            "categories": [
              "experimental_tests"
            ],
            "tree_notify": [
              "fwang@chromium.org",
              "maksim.sisov@chromium.org",
              "rjkroege@chromium.org",
              "thomasanderson@chromium.org",
              "timbrown@chromium.org",
              "tonikitoo@chromium.org"
            ],
            "forgiving_optional": [
              "*"
            ]
          }
        }
      }
    ],
    "https://build.chromium.org/p/chromium.mac": [
      {
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],
        "excluded_builders" : [
          "mac-osxbeta-rel"
        ],
        "builders": {
          "ios-device": {
            "sheriff_classes": ["sheriff_ios"]
          },
          "ios-simulator": {
            "sheriff_classes": ["sheriff_ios"],
            "closing_optional": [],
            "comment": ["closing_optional due to crbug.com/393861"]
          },
          "ios-simulator-full-configs": {
            "sheriff_classes": ["sheriff_ios"],
            "closing_optional": []
          },
          "ios-simulator-noncq": {
            "closing_optional": [],
            "sheriff_classes": ["sheriff_ios"]
          },
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/chromium.memory": [
      {
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],
        "builders": {
          "*": {}
        },
        "excluded_builders": [
          "Android CFI",
          "android-asan"
        ]
      }
    ],
    "https://build.chromium.org/p/chromium.perf": [
      {
        "forgive_all": "true",
        "subject_template": "%(project_name)s %(builder_name)s %(result)s",
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],
        "builders": {
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/chromium.win": [
      {
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],

        "comment": [
          "Bot should be sheriffed, but is very broken and flaky, and hasn't",
          "been fixed. Excluding it so it doesn't show up on SOM. See ",
          "crbug.com/876224 for more details."
        ],
        "excluded_builders" : [
            "Win10 Tests x64 (dbg)"
        ],
        "builders": {
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/client.boringssl": [
      {
        "tree_notify": [
          "boringssl@google.com"
        ],

        "builders": {
          "*": {
            "forgiving_optional": [
              "*"
            ]
          }
        }
      }
    ],
    "https://build.chromium.org/p/client.crashpad": [
      {
        "builders": {
          "*": {
            "closing_optional": [
              "*"
            ]
          }
        }
      }
    ],
    "https://build.chromium.org/p/client.pdfium": [
      {
        "categories": [
          "pdfium_all"
        ],
        "builders": {
          "*": {}
        },
        "tree_notify": [
            "dsinclair@chromium.org",
            "thestig@chromium.org"
        ]
      }
    ],
    "https://build.chromium.org/p/client.webrtc": [
      {
        "tree_notify": [
          "webrtc-sheriff-mtv@grotations.appspotmail.com",
          "webrtc-sheriff-sto@grotations.appspotmail.com"
        ],
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],
        "builders": {
          "*": { "categories": [ "webrtc_all"] }
        },
        "excluded_builders": [
          "Mac64 Builder",
          "Win32 Builder (Clang)",
          "*UWP*"
        ]
      }
    ],
    "https://build.chromium.org/p/chromium.fyi": [
      {
        "builders": {
          "Closure Compilation Linux": {
            "tree_notify": [
              "dbeam+closure-bots@chromium.org",
              "fukino+closure-bots@chromium.org",
              "hirono+closure-bots@chromium.org",
              "vitalyp@chromium.org"
            ],
            "forgiving_optional": [
              "update_scripts",
              "setup_build",
              "bot_update"
            ],
            "closing_optional": [
              "generate_gyp_files",
              "compile",
              "generate_v2_gyp_files",
              "compile_v2"
            ]
          },
          "fuchsia-fyi-arm64-rel": {
            "forgiving_optional": ["*"]
          },
          "fuchsia-fyi-x64-dbg": {
            "forgiving_optional": ["*"]
          },
          "fuchsia-fyi-x64-rel": {
            "forgiving_optional": ["*"]
          },
          "Mojo Android": {
            "forgiving_optional": ["*"]
          },
          "Mojo Linux": {
            "forgiving_optional": ["*"]
          },
          "Site Isolation Android": {
            "tree_notify": [
              "nasko+fyi-bots@chromium.org",
              "creis+fyi-bots@chromium.org",
              "lukasza+fyi-bots@chromium.org",
              "alexmos+fyi-bots@chromium.org"
            ],
            "forgiving_optional": [
              "*"
            ]
          },
          "CFI Linux ToT": {
            "tree_notify": [
              "pcc@chromium.org"
            ],
            "forgiving_optional": ["*"],
            "subject_template": "buildbot %(result)s in %(project_name)s on %(builder_name)s, revision %(revision)s"
          },
          "CFI Linux CF": {
            "tree_notify": [
              "pcc@chromium.org"
            ],
            "forgiving_optional": ["*"],
            "subject_template": "buildbot %(result)s in %(project_name)s on %(builder_name)s, revision %(revision)s"
          },
          "Win 10 Fast Ring": {
            "tree_notify": [
              "wfh@chromium.org"
            ],
            "forgiving_optional": ["*"]
          },
          "linux-blink-heap-verification": {
            "tree_notify": [
              "mlippautz+fyi-bots@chromium.org"
            ],
            "forgiving_optional": ["*"]
          },
          "linux-annotator-rel": {
            "tree_notify": [
              "pastarmovj@chromium.org",
              "nicolaso@chromium.org"
            ],
            "forgiving_optional": ["*"]
          },
          "win-annotator-rel": {
            "tree_notify": [
              "pastarmovj@chromium.org",
              "nicolaso@chromium.org"
            ],
            "forgiving_optional": ["*"]
          }
        }
      }
    ]
  },

  "categories": {
    "chromium_memory_full": {
      "closing_optional": [
        "*"
      ]
    },

    "chromium_tree_closer": {
      "closing_optional": [
        "bot_update",
        "compile",
        "gclient runhooks",
        "runhooks",
        "update"
      ],
      "sheriff_classes": ["sheriff"],
      "status_template": "Tree is closed (Automatic: \"%(unsatisfied)s\" on %(build_url)s \"%(builder_name)s\" from %(revision)s: %(blamelist)s)"
    },

    "chromium_windows": {
      "forgiving_optional": [
        "svnkill",
        "taskkill"
      ]
    },

    "chromium_compile": {
      "closing_optional": [
        "compile"
      ]
    },

    "chromium_archive_build": {
      "forgiving_optional": [
        "archive_build"
      ]
    },

    "chromium_android": {
      "excluded_steps": [
        "slave_steps",
        "Run Clank Test Annotator"
      ],
      "forgiving_optional": [
        "compile"
      ],
      "sheriff_classes": ["sheriff_android"]
    },

    "experimental_tests": {
      "excluded_steps": [
        "*(experimental)*"
      ]
    },

    "pdfium_all": {
      "closing_optional": [
        "*"
      ],
      "forgiving_optional": [
        "update_scripts",
        "steps"
      ]
    },
    "webrtc_all": {
      "forgiving_optional": [
        "bot_update",
        "package build",
        "extract build",
        "cleanup_temp",
        "taskkill"
      ],
      "closing_optional": [
        "compile",
        "gn"
      ]
    },
    "webrtc_tree_closer": {
      "closing_optional": [
        "bot_update",
        "compile",
        "gclient runhooks",
        "runhooks",
        "update"
      ],
      "status_template": "Tree is closed (Automatic: \"%(unsatisfied)s\" on %(build_url)s \"%(builder_name)s\" from %(revision)s: %(blamelist)s)"
    }
  }
}
