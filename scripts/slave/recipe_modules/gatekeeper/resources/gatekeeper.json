{
  "comment": ["This is a configuration file for gatekeeper_ng.py",
              "Look in gatekeeper_ng_config.py for documentation on ",
              "this files's format."],

  "masters": {
    "https://build.chromium.org/p/chrome": [
      {
        "sheriff_classes": ["sheriff"],
        "categories": [
          "experimental_tests"
        ],
        "builders": {
          "*": {
            "closing_optional": [ "non-existent-step" ]
          }
        }
      }
    ],
    "https://build.chromium.org/p/chromium": [
      {
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],
        "excluded_builders": [
          "android-official",
          "fuchsia-official",
          "linux-official",
          "win-archive-dbg",
          "win32-archive-dbg"
        ],

        "builders": {
          "win32-archive-rel": {
            "categories": [
              "chromium_windows"
            ]
          },
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/chromium.android": [
      {
        "categories": [
          "chromium_android",
          "experimental_tests"
        ],
        "builders": {
          "Android ASAN (dbg)": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "Android arm Builder (dbg)": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "Android arm64 Builder (dbg)": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "Cast Android (dbg)": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "Marshmallow Phone Tester (rel)": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "android-lollipop-arm-rel": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "android-marshmallow-arm64-rel": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "android-pie-arm64-rel": {
            "categories": [
              "chromium_tree_closer"
            ]
          },
          "Deterministic Android (dbg)": {
            "categories": [
              "chromium_tree_closer",
              "experimental_tests"
            ]
          },
          "Deterministic Android": {
            "categories": [
              "chromium_tree_closer",
              "experimental_tests"
            ]
          },
          "*": {}
        },
        "excluded_builders": [
          "android-incremental-dbg",
          "android-marshmallow-x86-rel",
          "android-nougat-arm64-rel",
          "Oreo Phone Tester"
        ]
      }
    ],
    "https://build.chromium.org/p/chromium.chromiumos": [
      {
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],
        "builders": {
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/chromium.gpu": [
      {
        "tree_notify": ["chrome-gpu-build-failures@google.com"],
        "sheriff_classes": ["sheriff", "sheriff_gpu"],
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],
        "builders": {
          "*": {}
        },
        "excluded_builders" : [
          "GPU Linux Builder (dbg)",
          "GPU Mac Builder (dbg)",
          "GPU Win x64 Builder (dbg)",
          "Linux Debug (NVIDIA)",
          "Mac Debug (Intel)"
        ]
      }
    ],
    "https://build.chromium.org/p/chromium.linux": [
      {
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],
        "builders": {
          "*": {}
        },
        "excluded_builders" : [
          "Leak Detection Linux"
        ],
        "tree_notify": [
          "thomasanderson@chromium.org"
        ]
      },
      {
        "builders": {
          "fuchsia-arm64-cast": {
            "forgiving_optional": ["*"]
          },
          "fuchsia-x64-cast": {
            "forgiving_optional": ["*"]
          }
        }
      },
      {
        "builders": {
          "Deterministic Linux": {
            "categories": [
              "experimental_tests"
            ],
            "forgiving_optional": ["*"]
          },
          "linux-ozone-rel": {
            "categories": [
              "experimental_tests"
            ],
            "forgiving_optional": [
              "*"
            ]
          }
        }
      }
    ],
    "https://build.chromium.org/p/chromium.mac": [
      {
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],
        "excluded_builders" : [
          "mac-osxbeta-rel"
        ],
        "builders": {
          "ios-device": {
            "sheriff_classes": ["sheriff_ios"]
          },
          "ios-simulator": {
            "sheriff_classes": ["sheriff_ios"],
            "closing_optional": [],
            "comment": ["closing_optional due to crbug.com/393861"]
          },
          "ios-simulator-full-configs": {
            "sheriff_classes": ["sheriff_ios"],
            "closing_optional": []
          },
          "ios-simulator-noncq": {
            "closing_optional": [],
            "sheriff_classes": ["sheriff_ios"]
          },
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/chromium.memory": [
      {
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],
        "builders": {
          "*": {}
        },
        "excluded_builders": [
          "Android CFI",
          "android-asan"
        ]
      }
    ],
    "https://build.chromium.org/p/chromium.perf": [
      {
        "forgive_all": "true",
        "subject_template": "%(project_name)s %(builder_name)s %(result)s",
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],
        "builders": {
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/chromium.win": [
      {
        "categories": [
          "chromium_tree_closer",
          "experimental_tests"
        ],

        "comment": [
          "Bot should be sheriffed, but is very broken and flaky, and hasn't",
          "been fixed. Excluding it so it doesn't show up on SOM. See ",
          "crbug.com/876224 for more details."
        ],
        "excluded_builders" : [
            "Win10 Tests x64 (dbg)"
        ],
        "builders": {
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/client.boringssl": [
      {
        "tree_notify": [
          "boringssl@google.com"
        ],

        "builders": {
          "*": {
            "forgiving_optional": [
              "*"
            ]
          }
        }
      }
    ],
    "https://build.chromium.org/p/client.crashpad": [
      {
        "builders": {
          "*": {
            "closing_optional": [
              "*"
            ]
          }
        }
      }
    ],
    "https://build.chromium.org/p/client.pdfium": [
      {
        "categories": [
          "pdfium_all"
        ],
        "builders": {
          "*": {}
        },
        "tree_notify": [
            "dsinclair@chromium.org",
            "thestig@chromium.org"
        ]
      }
    ],

  "categories": {
    "chromium_memory_full": {
      "closing_optional": [
        "*"
      ]
    },

    "chromium_tree_closer": {
      "closing_optional": [
        "bot_update",
        "compile",
        "gclient runhooks",
        "runhooks",
        "update"
      ],
      "sheriff_classes": ["sheriff"],
      "status_template": "Tree is closed (Automatic: \"%(unsatisfied)s\" on %(build_url)s \"%(builder_name)s\" from %(revision)s: %(blamelist)s)"
    },

    "chromium_windows": {
      "forgiving_optional": [
        "svnkill",
        "taskkill"
      ]
    },

    "chromium_compile": {
      "closing_optional": [
        "compile"
      ]
    },

    "chromium_archive_build": {
      "forgiving_optional": [
        "archive_build"
      ]
    },

    "chromium_android": {
      "excluded_steps": [
        "slave_steps",
        "Run Clank Test Annotator"
      ],
      "forgiving_optional": [
        "compile"
      ],
      "sheriff_classes": ["sheriff_android"]
    },

    "experimental_tests": {
      "excluded_steps": [
        "*(experimental)*"
      ]
    },

    "pdfium_all": {
      "closing_optional": [
        "*"
      ],
      "forgiving_optional": [
        "update_scripts",
        "steps"
      ]
    }
  }
}
