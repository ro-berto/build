[
  {
    "cmd": [],
    "name": "get_test_binary",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@test_binary.json@{@@@",
      "@@@STEP_LOG_LINE@test_binary.json@  \"cas_input_root\": \"67951a7296da79ca60164871b38bde19a89085df0a6836955ff6c68a8188dd35/565\", @@@",
      "@@@STEP_LOG_LINE@test_binary.json@  \"class_name\": \"BlinkWebTestsBinary\", @@@",
      "@@@STEP_LOG_LINE@test_binary.json@  \"command\": [@@@",
      "@@@STEP_LOG_LINE@test_binary.json@    \"bin/run_blink_wpt_tests\"@@@",
      "@@@STEP_LOG_LINE@test_binary.json@  ], @@@",
      "@@@STEP_LOG_LINE@test_binary.json@  \"cwd\": \"out/Release\", @@@",
      "@@@STEP_LOG_LINE@test_binary.json@  \"dimensions\": {@@@",
      "@@@STEP_LOG_LINE@test_binary.json@    \"cpu\": \"x86-64\", @@@",
      "@@@STEP_LOG_LINE@test_binary.json@    \"os\": \"Mac-12\", @@@",
      "@@@STEP_LOG_LINE@test_binary.json@    \"pool\": \"chromium.tests\"@@@",
      "@@@STEP_LOG_LINE@test_binary.json@  }, @@@",
      "@@@STEP_LOG_LINE@test_binary.json@  \"env_vars\": {@@@",
      "@@@STEP_LOG_LINE@test_binary.json@    \"ISOLATED_OUTDIR\": \"${ISOLATED_OUTDIR}\"@@@",
      "@@@STEP_LOG_LINE@test_binary.json@  }, @@@",
      "@@@STEP_LOG_LINE@test_binary.json@  \"parallel_jobs\": null, @@@",
      "@@@STEP_LOG_LINE@test_binary.json@  \"repeat\": null, @@@",
      "@@@STEP_LOG_LINE@test_binary.json@  \"single_batch\": null, @@@",
      "@@@STEP_LOG_LINE@test_binary.json@  \"tests\": null@@@",
      "@@@STEP_LOG_LINE@test_binary.json@}@@@",
      "@@@STEP_LOG_END@test_binary.json@@@"
    ]
  },
  {
    "cmd": [],
    "name": "get_test_binary.get_test_binary",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [],
    "name": "get_test_binary.get_test_binary.install infra/tools/luci/swarming",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@"
    ]
  },
  {
    "cmd": [
      "vpython3",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/cipd_tool/infra/tools/luci/swarming/swarming_module_pin"
    ],
    "infra_step": true,
    "name": "get_test_binary.get_test_binary.install infra/tools/luci/swarming.ensure package directory",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[START_DIR]/cipd_tool/infra/tools/luci/swarming/swarming_module_pin",
      "-ensure-file",
      "infra/tools/luci/swarming/${platform} swarming_module_pin",
      "-max-threads",
      "0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "infra_step": true,
    "name": "get_test_binary.get_test_binary.install infra/tools/luci/swarming.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@3@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-swarming_module_\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"infra/tools/luci/swarming/resolved-platform\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[START_DIR]/cipd_tool/infra/tools/luci/swarming/swarming_module_pin/swarming",
      "request-show",
      "-server",
      "https://example.swarmingserver.appspot.com",
      "54321fffffabc123"
    ],
    "infra_step": true,
    "name": "get_test_binary.get_test_binary.show request",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@2@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"authenticated\": \"user:chromium-orchestrator@chops-service-accounts.iam.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"bot_ping_tolerance_secs\": \"1200\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"created_ts\": \"2022-07-26T21:31:40.775569\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"expiration_secs\": \"3600\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"name\": \"blink_wpt_tests (with patch)/Mac-12/1111111111/mac-rel/1111111:8:18\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"parent_task_id\": \"1111111111111111\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"priority\": \"30\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"properties\": {}, @@@",
      "@@@STEP_LOG_LINE@json.output@  \"realm\": \"chromium:try\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"resultdb\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"enable\": true@@@",
      "@@@STEP_LOG_LINE@json.output@  }, @@@",
      "@@@STEP_LOG_LINE@json.output@  \"service_account\": \"chromium-tester@chops-service-accounts.iam.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"tags\": [], @@@",
      "@@@STEP_LOG_LINE@json.output@  \"task_id\": \"1111111111111111\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"task_slices\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"expiration_secs\": \"3600\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"properties\": {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"caches\": [@@@",
      "@@@STEP_LOG_LINE@json.output@          {@@@",
      "@@@STEP_LOG_LINE@json.output@            \"name\": \"task_template_vpython_cache\", @@@",
      "@@@STEP_LOG_LINE@json.output@            \"path\": \".task_template_vpython_cache/vpython\"@@@",
      "@@@STEP_LOG_LINE@json.output@          }@@@",
      "@@@STEP_LOG_LINE@json.output@        ], @@@",
      "@@@STEP_LOG_LINE@json.output@        \"cas_input_root\": {@@@",
      "@@@STEP_LOG_LINE@json.output@          \"cas_instance\": \"projects/chromium-swarm/instances/default_instance\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"digest\": {@@@",
      "@@@STEP_LOG_LINE@json.output@            \"hash\": \"67951a7296da79ca60164871b38bde19a89085df0a6836955ff6c68a8188dd35\", @@@",
      "@@@STEP_LOG_LINE@json.output@            \"size_bytes\": \"565\"@@@",
      "@@@STEP_LOG_LINE@json.output@          }@@@",
      "@@@STEP_LOG_LINE@json.output@        }, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"cipd_input\": {@@@",
      "@@@STEP_LOG_LINE@json.output@          \"client_package\": {@@@",
      "@@@STEP_LOG_LINE@json.output@            \"package_name\": \"infra/tools/cipd/${platform}\", @@@",
      "@@@STEP_LOG_LINE@json.output@            \"version\": \"git_revision:2fe24264d5b4585ecd16ba8e9bb582d8f4b20875\"@@@",
      "@@@STEP_LOG_LINE@json.output@          }, @@@",
      "@@@STEP_LOG_LINE@json.output@          \"packages\": [@@@",
      "@@@STEP_LOG_LINE@json.output@            {@@@",
      "@@@STEP_LOG_LINE@json.output@              \"package_name\": \"infra/tools/luci-auth/${platform}\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"path\": \".task_template_packages\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"version\": \"git_revision:3c772505f229adbbf2144a08e9935c12ad873a91\"@@@",
      "@@@STEP_LOG_LINE@json.output@            }, @@@",
      "@@@STEP_LOG_LINE@json.output@            {@@@",
      "@@@STEP_LOG_LINE@json.output@              \"package_name\": \"infra/tools/luci/logdog/butler/${platform}\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"path\": \".task_template_packages\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"version\": \"git_revision:3c772505f229adbbf2144a08e9935c12ad873a91\"@@@",
      "@@@STEP_LOG_LINE@json.output@            }, @@@",
      "@@@STEP_LOG_LINE@json.output@            {@@@",
      "@@@STEP_LOG_LINE@json.output@              \"package_name\": \"infra/tools/luci/vpython-native/${platform}\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"path\": \".task_template_packages\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"version\": \"git_revision:b91f9144cceb6508d98c5f0ecb8a31f59d277929\"@@@",
      "@@@STEP_LOG_LINE@json.output@            }, @@@",
      "@@@STEP_LOG_LINE@json.output@            {@@@",
      "@@@STEP_LOG_LINE@json.output@              \"package_name\": \"infra/tools/luci/vpython/${platform}\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"path\": \".task_template_packages\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"version\": \"git_revision:b91f9144cceb6508d98c5f0ecb8a31f59d277929\"@@@",
      "@@@STEP_LOG_LINE@json.output@            }, @@@",
      "@@@STEP_LOG_LINE@json.output@            {@@@",
      "@@@STEP_LOG_LINE@json.output@              \"package_name\": \"infra/tools/rdb/${platform}\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"path\": \".task_template_packages\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"version\": \"git_revision:46a6d3351759b681ccff4991efef423963049d15\"@@@",
      "@@@STEP_LOG_LINE@json.output@            }, @@@",
      "@@@STEP_LOG_LINE@json.output@            {@@@",
      "@@@STEP_LOG_LINE@json.output@              \"package_name\": \"infra/tools/result_adapter/${platform}\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"path\": \".task_template_packages\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"version\": \"git_revision:85307d92db5d3acade9a07ccbe881ec7c3ce1ee1\"@@@",
      "@@@STEP_LOG_LINE@json.output@            }, @@@",
      "@@@STEP_LOG_LINE@json.output@            {@@@",
      "@@@STEP_LOG_LINE@json.output@              \"package_name\": \"infra/3pp/tools/cpython/${platform}\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"path\": \".task_template_packages/cpython\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"version\": \"version:2@2.7.18.chromium.39\"@@@",
      "@@@STEP_LOG_LINE@json.output@            }, @@@",
      "@@@STEP_LOG_LINE@json.output@            {@@@",
      "@@@STEP_LOG_LINE@json.output@              \"package_name\": \"infra/3pp/tools/cpython3/${platform}\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"path\": \".task_template_packages/cpython3\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \"version\": \"version:2@3.8.10.chromium.23\"@@@",
      "@@@STEP_LOG_LINE@json.output@            }@@@",
      "@@@STEP_LOG_LINE@json.output@          ], @@@",
      "@@@STEP_LOG_LINE@json.output@          \"server\": \"https://chrome-infra-packages.appspot.com/\"@@@",
      "@@@STEP_LOG_LINE@json.output@        }, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"command\": [@@@",
      "@@@STEP_LOG_LINE@json.output@          \"rdb\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"stream\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"-test-id-prefix\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"ninja://:blink_wpt_tests/\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"-var\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"builder:mac-rel\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"-var\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"os:Mac-12\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"-var\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"test_suite:blink_wpt_tests\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"-tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"step_name:blink_wpt_tests (with patch) on Mac-12\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"-tag\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"target_platform:mac\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"-coerce-negative-duration\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"-location-tags-file\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"../../testing/location_tags.json\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"-exonerate-unexpected-pass\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"--\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"luci-auth\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"context\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"--\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"bin/run_blink_wpt_tests\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"--results-directory\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"${ISOLATED_OUTDIR}\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"--isolated-script-test-output=${ISOLATED_OUTDIR}/output.json\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"--isolated-script-test-perf-output=${ISOLATED_OUTDIR}/perftest-output.json\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"--num-retries=3\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"--write-run-histories-to=${ISOLATED_OUTDIR}/run_histories.json\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"--git-revision=ffffffffffffffffffffffffffffffffffffffff\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"--gerrit-issue=1111111\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"--gerrit-patchset=1\", @@@",
      "@@@STEP_LOG_LINE@json.output@          \"--buildbucket-id=1111111111111111111\"@@@",
      "@@@STEP_LOG_LINE@json.output@        ], @@@",
      "@@@STEP_LOG_LINE@json.output@        \"containment\": {@@@",
      "@@@STEP_LOG_LINE@json.output@          \"containment_type\": \"NONE\"@@@",
      "@@@STEP_LOG_LINE@json.output@        }, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"dimensions\": [@@@",
      "@@@STEP_LOG_LINE@json.output@          {@@@",
      "@@@STEP_LOG_LINE@json.output@            \"key\": \"os\", @@@",
      "@@@STEP_LOG_LINE@json.output@            \"value\": \"Mac-12\"@@@",
      "@@@STEP_LOG_LINE@json.output@          }, @@@",
      "@@@STEP_LOG_LINE@json.output@          {@@@",
      "@@@STEP_LOG_LINE@json.output@            \"key\": \"cpu\", @@@",
      "@@@STEP_LOG_LINE@json.output@            \"value\": \"x86-64\"@@@",
      "@@@STEP_LOG_LINE@json.output@          }, @@@",
      "@@@STEP_LOG_LINE@json.output@          {@@@",
      "@@@STEP_LOG_LINE@json.output@            \"key\": \"pool\", @@@",
      "@@@STEP_LOG_LINE@json.output@            \"value\": \"chromium.tests\"@@@",
      "@@@STEP_LOG_LINE@json.output@          }@@@",
      "@@@STEP_LOG_LINE@json.output@        ], @@@",
      "@@@STEP_LOG_LINE@json.output@        \"env\": [@@@",
      "@@@STEP_LOG_LINE@json.output@          {@@@",
      "@@@STEP_LOG_LINE@json.output@            \"key\": \"GTEST_SHARD_INDEX\", @@@",
      "@@@STEP_LOG_LINE@json.output@            \"value\": \"8\"@@@",
      "@@@STEP_LOG_LINE@json.output@          }, @@@",
      "@@@STEP_LOG_LINE@json.output@          {@@@",
      "@@@STEP_LOG_LINE@json.output@            \"key\": \"GTEST_TOTAL_SHARDS\", @@@",
      "@@@STEP_LOG_LINE@json.output@            \"value\": \"18\"@@@",
      "@@@STEP_LOG_LINE@json.output@          }, @@@",
      "@@@STEP_LOG_LINE@json.output@          {@@@",
      "@@@STEP_LOG_LINE@json.output@            \"key\": \"ISOLATED_OUTDIR\", @@@",
      "@@@STEP_LOG_LINE@json.output@            \"value\": \"${ISOLATED_OUTDIR}\"@@@",
      "@@@STEP_LOG_LINE@json.output@          }, @@@",
      "@@@STEP_LOG_LINE@json.output@          {@@@",
      "@@@STEP_LOG_LINE@json.output@            \"key\": \"LLVM_PROFILE_FILE\", @@@",
      "@@@STEP_LOG_LINE@json.output@            \"value\": \"${ISOLATED_OUTDIR}/profraw/default-%2m.profraw\"@@@",
      "@@@STEP_LOG_LINE@json.output@          }@@@",
      "@@@STEP_LOG_LINE@json.output@        ], @@@",
      "@@@STEP_LOG_LINE@json.output@        \"env_prefixes\": [@@@",
      "@@@STEP_LOG_LINE@json.output@          {@@@",
      "@@@STEP_LOG_LINE@json.output@            \"key\": \"PATH\", @@@",
      "@@@STEP_LOG_LINE@json.output@            \"value\": [@@@",
      "@@@STEP_LOG_LINE@json.output@              \".task_template_packages\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \".task_template_packages/cpython/bin\", @@@",
      "@@@STEP_LOG_LINE@json.output@              \".task_template_packages/cpython3/bin\"@@@",
      "@@@STEP_LOG_LINE@json.output@            ]@@@",
      "@@@STEP_LOG_LINE@json.output@          }, @@@",
      "@@@STEP_LOG_LINE@json.output@          {@@@",
      "@@@STEP_LOG_LINE@json.output@            \"key\": \"VPYTHON_VIRTUALENV_ROOT\", @@@",
      "@@@STEP_LOG_LINE@json.output@            \"value\": [@@@",
      "@@@STEP_LOG_LINE@json.output@              \".task_template_vpython_cache/vpython\"@@@",
      "@@@STEP_LOG_LINE@json.output@            ]@@@",
      "@@@STEP_LOG_LINE@json.output@          }@@@",
      "@@@STEP_LOG_LINE@json.output@        ], @@@",
      "@@@STEP_LOG_LINE@json.output@        \"execution_timeout_secs\": \"3600\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"grace_period_secs\": \"30\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"idempotent\": true, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"io_timeout_secs\": \"1200\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"relative_cwd\": \"out/Release\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }, @@@",
      "@@@STEP_LOG_LINE@json.output@      \"wait_for_capacity\": false@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  ], @@@",
      "@@@STEP_LOG_LINE@json.output@  \"user\": \"\"@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "name": "$result"
  }
]