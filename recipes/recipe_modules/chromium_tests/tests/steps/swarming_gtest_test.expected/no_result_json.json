[
  {
    "cmd": [
      "python",
      "-u",
      "None/tools/swarming_client/swarming.py",
      "trigger",
      "--swarming",
      "https://chromium-swarm.appspot.com",
      "--isolate-server",
      "https://isolateserver.appspot.com",
      "--priority",
      "200",
      "--task-name",
      "base_unittests/Ubuntu-16.04/ffffffffff/test_buildername/571",
      "--dump-json",
      "/path/to/tmp/json",
      "--expiration",
      "3600",
      "--io-timeout",
      "1200",
      "--hard-timeout",
      "3600",
      "--dimension",
      "cpu",
      "x86-64",
      "--dimension",
      "os",
      "Ubuntu-16.04",
      "--dimension",
      "pool",
      "foo",
      "--env",
      "ISOLATED_OUTDIR",
      "${ISOLATED_OUTDIR}",
      "--tag",
      "bucket:ci",
      "--tag",
      "build_is_experimental:false",
      "--tag",
      "builder_group:test_group",
      "--tag",
      "buildername:test_buildername",
      "--tag",
      "buildnumber:571",
      "--tag",
      "data:ffffffffffffffffffffffffffffffffffffffff",
      "--tag",
      "name:base_unittests",
      "--tag",
      "ninja_target:",
      "--tag",
      "slavename:fake-bot-id",
      "--tag",
      "spec_name:chromium.ci:test_buildername",
      "--tag",
      "stepname:base_unittests",
      "--tag",
      "test_id_prefix:",
      "--tag",
      "test_suite:base_unittests",
      "--isolated",
      "ffffffffffffffffffffffffffffffffffffffff",
      "--",
      "--test-launcher-summary-output=${ISOLATED_OUTDIR}/output.json"
    ],
    "infra_step": true,
    "name": "[trigger] base_unittests",
    "~followup_annotations": [
      "@@@STEP_TEXT@Run on OS: 'Ubuntu-16.04'@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"base_task_name\": \"base_unittests/Ubuntu-16.04/ffffffffff/test_buildername/571\", @@@",
      "@@@STEP_LOG_LINE@json.output@  \"tasks\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"base_unittests/Ubuntu-16.04/ffffffffff/test_buildername/571\": {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"shard_index\": 0, @@@",
      "@@@STEP_LOG_LINE@json.output@      \"task_id\": \"10000\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"view_url\": \"https://chromium-swarm.appspot.com/user/task/10000\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@",
      "@@@STEP_LINK@shard #0@https://chromium-swarm.appspot.com/user/task/10000@@@"
    ]
  },
  {
    "cmd": [],
    "name": "install infra/tools/luci/swarming"
  },
  {
    "cmd": [
      "vpython",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[CACHE]/cipd/infra/tools/luci/swarming/swarming_module_pin"
    ],
    "infra_step": true,
    "name": "install infra/tools/luci/swarming.ensure package directory",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[CACHE]/cipd/infra/tools/luci/swarming/swarming_module_pin",
      "-ensure-file",
      "infra/tools/luci/swarming/${platform} swarming_module_pin",
      "-max-threads",
      "0",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "infra_step": true,
    "name": "install infra/tools/luci/swarming.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"instance_id\": \"resolved-instance_id-of-swarming_module_\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"package\": \"infra/tools/luci/swarming/resolved-platform\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "python",
      "-u",
      "RECIPE_REPO[build]/scripts/tools/runit.py",
      "--show-path",
      "--with-third-party-lib",
      "--",
      "python",
      "RECIPE_MODULE[build::chromium_swarming]/resources/collect_task.py",
      "--verbose",
      "-o",
      "/path/to/tmp/json",
      "--task-output-dir",
      "[CLEANUP]/tmp_tmp_1",
      "--merge-script",
      "None/merge_scripts/standard_gtest_merge.py",
      "--merge-script-stdout-file",
      "/path/to/tmp/merge_script_log",
      "--merge-additional-args",
      "[]",
      "--summary-json-file",
      "/path/to/tmp/json",
      "--",
      "swarming",
      "collect",
      "-server",
      "https://chromium-swarm.appspot.com",
      "-worker",
      "50",
      "-task-summary-python",
      "-task-output-stdout",
      "all",
      "-verbose",
      "-requests-json",
      "{\"tasks\": [{\"task_id\": \"10000\"}]}"
    ],
    "env_prefixes": {
      "PATH": [
        "[CACHE]/cipd/infra/tools/luci/swarming/swarming_module_pin"
      ]
    },
    "name": "base_unittests",
    "~followup_annotations": [
      "@@@STEP_TEXT@Run on OS: 'Ubuntu-16.04'<br>Pending time: 1m 11s<br>Shard runtime (32s) + overhead (29s): 1m 0s@@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@{@@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@  \"shards\": [@@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@    {@@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@      \"bot_id\": \"vm30\", @@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@      \"completed_ts\": \"2014-09-25T01:43:11.123\", @@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@      \"created_ts\": \"2014-09-25T01:41:00.123\", @@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@      \"duration\": 31.5, @@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@      \"exit_code\": 1, @@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@      \"failure\": true, @@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@      \"internal_failure\": false, @@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@      \"modified_ts\": \"2014-09-25 01:42:00\", @@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@      \"name\": \"heartbeat-canary-2014-09-25_01:41:55-os=Windows\", @@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@      \"output\": \"Heart beat succeeded on win32.\\nFoo\", @@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@      \"outputs_ref\": {@@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@        \"isolated\": \"abc123\", @@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@        \"isolatedserver\": \"https://isolateserver.appspot.com\", @@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@        \"namespace\": \"default-gzip\"@@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@      }, @@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@      \"started_ts\": \"2014-09-25T01:42:11.123\", @@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@      \"state\": \"COMPLETED\", @@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@      \"task_id\": \"148aa78d7aa0000\"@@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@    }@@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@  ]@@@",
      "@@@STEP_LOG_LINE@chromium_swarming.summary@}@@@",
      "@@@STEP_LOG_END@chromium_swarming.summary@@@",
      "@@@STEP_LOG_LINE@Merge script log@@@@",
      "@@@STEP_LOG_END@Merge script log@@@",
      "@@@STEP_LOG_LINE@step_metadata@{@@@",
      "@@@STEP_LOG_LINE@step_metadata@  \"canonical_step_name\": \"base_unittests\", @@@",
      "@@@STEP_LOG_LINE@step_metadata@  \"dimensions\": {@@@",
      "@@@STEP_LOG_LINE@step_metadata@    \"cpu\": \"x86-64\", @@@",
      "@@@STEP_LOG_LINE@step_metadata@    \"os\": \"Ubuntu-16.04\", @@@",
      "@@@STEP_LOG_LINE@step_metadata@    \"pool\": \"foo\"@@@",
      "@@@STEP_LOG_LINE@step_metadata@  }, @@@",
      "@@@STEP_LOG_LINE@step_metadata@  \"full_step_name\": \"base_unittests\", @@@",
      "@@@STEP_LOG_LINE@step_metadata@  \"isolate_target_name\": \"base_unittests\", @@@",
      "@@@STEP_LOG_LINE@step_metadata@  \"patched\": false, @@@",
      "@@@STEP_LOG_LINE@step_metadata@  \"swarm_task_ids\": [@@@",
      "@@@STEP_LOG_LINE@step_metadata@    \"10000\"@@@",
      "@@@STEP_LOG_LINE@step_metadata@  ], @@@",
      "@@@STEP_LOG_LINE@step_metadata@  \"waterfall_builder_group\": null, @@@",
      "@@@STEP_LOG_LINE@step_metadata@  \"waterfall_buildername\": null@@@",
      "@@@STEP_LOG_LINE@step_metadata@}@@@",
      "@@@STEP_LOG_END@step_metadata@@@",
      "@@@STEP_LINK@shard #0 isolated out@https://isolateserver.appspot.com/browse?namespace=default-gzip&hash=abc123@@@",
      "@@@STEP_LINK@shard #0 (failed) (1m 0s)@https://chromium-swarm.appspot.com/user/task/10000@@@",
      "@@@STEP_FAILURE@@@"
    ]
  },
  {
    "cmd": [],
    "name": "details",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@details@compile_targets: ['base_unittests']@@@",
      "@@@STEP_LOG_LINE@details@uses_local_devices: False@@@",
      "@@@STEP_LOG_LINE@details@uses_isolate: True@@@",
      "@@@STEP_LOG_LINE@details@pass_fail_counts: {}@@@",
      "@@@STEP_LOG_END@details@@@"
    ]
  },
  {
    "name": "$result"
  }
]