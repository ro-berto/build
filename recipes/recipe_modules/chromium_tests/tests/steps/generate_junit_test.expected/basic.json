[
  {
    "cmd": [
      "rdb",
      "stream",
      "-var",
      "builder:test-builder",
      "-var",
      "test_suite:junit_test",
      "-tag",
      "step_name:junit_test",
      "-coerce-negative-duration",
      "-new",
      "-realm",
      "chromium:ci",
      "-include",
      "-exonerate-unexpected-pass",
      "--",
      "[CACHE]/builder/src/out/Debug/bin/run_junit_test",
      "--verbose",
      "--json-results-file",
      "/path/to/tmp/json"
    ],
    "cwd": "[CACHE]/builder",
    "env": {
      "PATH": "[CACHE]/builder/src/third_party/android_sdk/public/platform-tools:[CACHE]/builder/src/build/android:<PATH>"
    },
    "name": "junit_test",
    "~followup_annotations": [
      "@@@STEP_LOG_END@raw_io.output[stderr]@@@",
      "@@@STEP_FAILURE@@@"
    ]
  },
  {
    "cmd": [
      "python",
      "-u",
      "import sys; sys.exit(0)"
    ],
    "cwd": "[CACHE]/builder",
    "env": {
      "PATH": "[CACHE]/builder/src/third_party/android_sdk/public/platform-tools:[CACHE]/builder/src/build/android:<PATH>"
    },
    "name": "Report junit_test results",
    "~followup_annotations": [
      "@@@STEP_TEXT@<br/>deterministic failures [caused step to fail]:<br/>Test.Two<br/>@@@",
      "@@@STEP_LOG_LINE@Deterministic failure: Test.Two (status FAILURE)@Test 'Test.Two' completed with the following status(es): 'FAILURE'@@@",
      "@@@STEP_LOG_LINE@Deterministic failure: Test.Two (status FAILURE)@@@@",
      "@@@STEP_LOG_LINE@Deterministic failure: Test.Two (status FAILURE)@Test 'Test.Two' had the following logs when run:@@@",
      "@@@STEP_LOG_LINE@Deterministic failure: Test.Two (status FAILURE)@@@@",
      "@@@STEP_LOG_LINE@Deterministic failure: Test.Two (status FAILURE)@================================================================================@@@",
      "@@@STEP_LOG_LINE@Deterministic failure: Test.Two (status FAILURE)@@@@",
      "@@@STEP_LOG_LINE@Deterministic failure: Test.Two (status FAILURE)@:(@@@",
      "@@@STEP_LOG_LINE@Deterministic failure: Test.Two (status FAILURE)@@@@",
      "@@@STEP_LOG_LINE@Deterministic failure: Test.Two (status FAILURE)@================================================================================@@@",
      "@@@STEP_LOG_END@Deterministic failure: Test.Two (status FAILURE)@@@"
    ]
  },
  {
    "cmd": [
      "python",
      "-u",
      "RECIPE_MODULE[build::test_results]/resources/upload_test_results.py",
      "--input-json",
      "{\"per_iteration_data\": [{\"Test.One\": [{\"elapsed_time_ms\": 0, \"output_snippet\": \":)\", \"status\": \"SUCCESS\"}], \"Test.Three\": [{\"elapsed_time_ms\": 0, \"output_snippet\": \"\", \"status\": \"SUCCESS\"}], \"Test.Two\": [{\"elapsed_time_ms\": 0, \"output_snippet\": \":(\", \"status\": \"FAILURE\"}]}]}",
      "--builder-group",
      "test-group",
      "--builder-name",
      "test-builder",
      "--build-number",
      "571",
      "--test-type",
      "junit_test",
      "--chrome-revision",
      "refs/heads/main@{#170242}",
      "--build-id",
      "8945511751514863184",
      "--test-results-server",
      "test-results.appspot.com"
    ],
    "cwd": "[CACHE]/builder",
    "env": {
      "PATH": "[CACHE]/builder/src/third_party/android_sdk/public/platform-tools:[CACHE]/builder/src/build/android:<PATH>"
    },
    "name": "Upload to test-results [junit_test]"
  },
  {
    "cmd": [],
    "name": "query test results.No RDB results for junit_test",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@"
    ]
  },
  {
    "failure": {
      "failure": {},
      "humanReason": "1 Test Suite(s) failed.\n\n**junit_test** failed because of:\n\n- Test.Two"
    },
    "name": "$result"
  }
]